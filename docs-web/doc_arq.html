<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenta√ß√£o da Arquitetura</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content" style="justify-content: center;">
                <a href="http://82.25.75.88/smartceu" class="logo" style="text-decoration: none; color: inherit;">
                    <i class="fas fa-network-wired"></i>
                    <span>IoT Gateway ¬∑ Arquitetura</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <div class="nav-section">
                <div class="nav-section-title">Menu de Navega√ß√£o</div>
                <div class="nav-item" onclick="navigateTo('home')">
                    <i class="fas fa-home"></i> Bem-vindo
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Documenta√ß√£o T√©cnica</div>
                <div class="nav-item" onclick="navigateTo('architecture')">
                    <i class="fas fa-sitemap"></i> Proposta Arquitet√¥nica
                </div>
                <div class="nav-item" onclick="navigateTo('solution-model')">
                    <i class="fas fa-cubes"></i> Modelo de Solu√ß√£o
                </div>
                <div class="nav-item" onclick="navigateTo('topology')">
                    <i class="fas fa-project-diagram"></i> Modelo de Topologia
                </div>
                <div class="nav-item" onclick="navigateTo('integrations')">
                    <i class="fas fa-plug"></i> Integra√ß√µes
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Especifica√ß√µes</div>
                <div class="nav-item" onclick="navigateTo('api-specs')">
                    <i class="fas fa-code"></i> Especifica√ß√µes API
                </div>
                <div class="nav-item" onclick="navigateTo('data-model')">
                    <i class="fas fa-database"></i> Modelo de Dados
                </div>
                <div class="nav-item" onclick="navigateTo('security')">
                    <i class="fas fa-shield-alt"></i> Seguran√ßa
                </div>
                <div class="nav-item" onclick="navigateTo('operations')">
                    <i class="fas fa-cogs"></i> Opera√ß√µes
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Gest√£o</div>
                <div class="nav-item" onclick="navigateTo('checklist')">
                    <i class="fas fa-tasks"></i> Checklist / Intake
                </div>
                <div class="nav-item" onclick="navigateTo('endpoints')">
                    <i class="fas fa-exchange-alt"></i> Endpoints
                </div>
                <div class="nav-item" onclick="navigateTo('versioning')">
                    <i class="fas fa-code-branch"></i> Pol√≠tica de Versionado
                </div>
                <div class="nav-item" onclick="navigateTo('adrs')">
                    <i class="fas fa-file-alt"></i> ADRs
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">Casos de Uso</div>
                <div class="nav-item" onclick="navigateTo('use-case-pool')">
                    <i class="fas fa-swimming-pool"></i> Monitoramento da Piscina
                </div>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Home Section -->
            <section id="home" class="content-section active">
                <div class="hero">
                    <h1>CEU Tr√™s Pontes ¬∑ Sistema IoT Completo</h1>
                    <p class="hero-subtitle">Plataforma completa de monitoramento com API REST, banco de dados e autentica√ß√£o JWT</p>
                    <div class="version-badge">v2.0.0 - Fase 3 Completa + Refatora√ß√£o</div>
                </div>

                <div class="cards-grid">
                    <div class="card" onclick="navigateTo('architecture')">
                        <div class="card-icon">
                            <i class="fas fa-sitemap"></i>
                        </div>
                        <h3>Proposta Arquitet√¥nica</h3>
                        <p>Vis√£o geral da arquitetura do sistema, componentes e fluxos de dados</p>
                    </div>

                    <div class="card" onclick="navigateTo('solution-model')">
                        <div class="card-icon">
                            <i class="fas fa-cubes"></i>
                        </div>
                        <h3>Modelo de Solu√ß√£o</h3>
                        <p>Estrutura da solu√ß√£o, m√≥dulos e suas responsabilidades</p>
                    </div>

                    <div class="card" onclick="navigateTo('topology')">
                        <div class="card-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <h3>Modelo de Topologia</h3>
                        <p>Topologia de rede, distribui√ß√£o de componentes e infraestrutura</p>
                    </div>

                    <div class="card" onclick="navigateTo('integrations')">
                        <div class="card-icon">
                            <i class="fas fa-plug"></i>
                        </div>
                        <h3>Integra√ß√µes</h3>
                        <p>Protocolos suportados: LoRa, Zigbee, Sigfox, RFID via MQTT</p>
                    </div>

                    <div class="card" onclick="navigateTo('use-case-pool')">
                        <div class="card-icon">
                            <i class="fas fa-swimming-pool"></i>
                        </div>
                        <h3>Monitoramento da Piscina</h3>
                        <p>Sistema completo de monitoramento: temperatura da √°gua, ambiente e qualidade</p>
                    </div>
                </div>

                <div class="info-section">
                    <h2>Sobre o Projeto</h2>
                    <p>Sistema completo de controle de acesso e contagem de pessoas para o CEU Tr√™s Pontes. Integra m√∫ltiplos protocolos IoT (LoRa, Zigbee, Sigfox, RFID) com API REST completa, banco de dados MySQL, autentica√ß√£o JWT e arquitetura refatorada seguindo boas pr√°ticas (Clean Architecture, SOLID).</p>
                    
                    <div class="tech-stack">
                        <h3>Stack Tecnol√≥gico</h3>
                        <div class="tech-badges">
                            <span class="badge">Python 3.12</span>
                            <span class="badge">Flask 3.0</span>
                            <span class="badge">MySQL 8.4</span>
                            <span class="badge">SQLAlchemy</span>
                            <span class="badge">Marshmallow</span>
                            <span class="badge">JWT</span>
                            <span class="badge">MQTT / Mosquitto</span>
                            <span class="badge">REST API</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Architecture Section -->
            <section id="architecture" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Proposta Arquitet√¥nica</span>
                </div>
                
                <h1>Proposta Arquitet√¥nica</h1>
                <p class="section-intro">Arquitetura completa do Sistema de Monitoramento IoT do CEU Tr√™s Pontes</p>

                <div class="content-card">
                    <h2><i class="fas fa-lightbulb"></i> Vis√£o Geral</h2>
                    <p>O Sistema SmartCEU √© uma solu√ß√£o completa de monitoramento IoT para o CEU Tr√™s Pontes, integrando m√∫ltiplos protocolos de sensores (LoRa, Zigbee, Sigfox, RFID) para controle de acesso e monitoramento ambiental, com foco especial no monitoramento da piscina atrav√©s de sensores de temperatura e qualidade da √°gua.</p>
                    
                    <div class="info-box" style="margin-top: 1rem;">
                        <h4>üéØ Objetivos do Sistema</h4>
                        <ul>
                            <li><strong>Controle de Acesso:</strong> Monitoramento de presen√ßa em salas e √°reas comuns via sensores IoT</li>
                            <li><strong>Monitoramento da Piscina:</strong> Temperatura da √°gua, temperatura ambiente e qualidade da √°gua</li>
                            <li><strong>Centraliza√ß√£o de Dados:</strong> API REST √∫nica para todos os sensores e aplica√ß√µes</li>
                            <li><strong>Visualiza√ß√£o:</strong> Dashboards web interativos com gr√°ficos e alertas em tempo real</li>
                        </ul>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-layer-group"></i> Arquitetura em Camadas</h2>
                    
                    <div class="architecture-layer">
                        <h3>1. Camada de Sensores (F√≠sica)</h3>
                        <h4>Sensores de Controle de Acesso</h4>
                        <ul>
                            <li><strong>LoRa (2 sensores):</strong> Longo alcance, baixo consumo
                                <ul>
                                    <li>Entrada Principal - Sensor de presen√ßa</li>
                                    <li>Biblioteca - Sensor de presen√ßa</li>
                                </ul>
                            </li>
                            <li><strong>Zigbee (2 sensores):</strong> Redes mesh, automa√ß√£o
                                <ul>
                                    <li>Quadra Esportiva - Sensor de presen√ßa</li>
                                    <li>Piscina (temperatura ambiente) - Sensor ambiental</li>
                                </ul>
                            </li>
                            <li><strong>Sigfox (1 sensor):</strong> Comunica√ß√£o global
                                <ul>
                                    <li>Refeit√≥rio - Sensor de presen√ßa</li>
                                </ul>
                            </li>
                            <li><strong>RFID (1 sensor):</strong> Identifica√ß√£o por aproxima√ß√£o
                                <ul>
                                    <li>Sala 101 - Controle de acesso</li>
                                </ul>
                            </li>
                        </ul>

                        <h4>Sensores de Monitoramento da Piscina</h4>
                        <ul>
                            <li><strong>Temperatura da √Ågua:</strong> Sensor submerso (20-35¬∞C, precis√£o 0.1¬∞C)</li>
                            <li><strong>Temperatura Ambiente:</strong> Sensor √°rea externa (15-40¬∞C)</li>
                            <li><strong>Qualidade da √Ågua:</strong> Sensor multi-par√¢metros (pH, turbidez, cloro)</li>
                        </ul>
                        
                        <div class="info-box" style="margin-top: 1rem;">
                            <strong>Volume de Dados (20 dias):</strong>
                            <ul>
                                <li>Sensores de acesso: ~22.000 leituras</li>
                                <li>Temperatura da √°gua: ~3.700 leituras</li>
                                <li>Temperatura ambiente: ~3.100 leituras</li>
                                <li>Qualidade da √°gua: ~940 leituras</li>
                                <li><strong>Total:</strong> ~29.740 leituras armazenadas</li>
                            </ul>
                        </div>
                    </div>

                    <div class="architecture-layer">
                        <h3>2. Camada de Gateway (IoT)</h3>
                        <ul>
                            <li><strong>MQTT Client (Paho):</strong> Publica√ß√£o em t√≥picos espec√≠ficos
                                <ul>
                                    <li><code>sensores/{protocol}/dados</code> - Sensores de acesso</li>
                                    <li><code>piscina/temperatura/agua</code> - Temperatura da √°gua</li>
                                    <li><code>piscina/temperatura/ambiente</code> - Temperatura ambiente</li>
                                    <li><code>piscina/qualidade</code> - Qualidade da √°gua</li>
                                </ul>
                            </li>
                            <li><strong>Message Formatter:</strong> Padroniza√ß√£o JSON com timestamp local (America/Sao_Paulo)</li>
                            <li><strong>Config Loader:</strong> Configura√ß√£o via mqtt_config.ini</li>
                            <li><strong>Gateway Core:</strong> Orquestra√ß√£o de todos os sensores</li>
                            <li><strong>Timezone Handler:</strong> Garantia de timestamps corretos (UTC-3)</li>
                        </ul>
                    </div>

                    <div class="architecture-layer">
                        <h3>3. Camada de Broker MQTT</h3>
                        <ul>
                            <li><strong>Eclipse Mosquitto 2.0.18:</strong> Broker MQTT (porta 1884)</li>
                            <li><strong>Topics Hier√°rquicos:</strong> Organiza√ß√£o por tipo e protocolo</li>
                            <li><strong>QoS Level 1:</strong> At least once delivery</li>
                            <li><strong>Retain Messages:</strong> √öltima leitura sempre dispon√≠vel</li>
                            <li><strong>Subscriber Pattern:</strong> Gateway consume e persiste dados</li>
                        </ul>
                    </div>

                    <div class="architecture-layer">
                        <h3>4. Camada de Backend (API REST)</h3>
                        <ul>
                            <li><strong>Flask 3.0:</strong> Framework web Python (porta 5000)</li>
                            <li><strong>SQLAlchemy ORM:</strong> Mapeamento objeto-relacional</li>
                            <li><strong>Marshmallow:</strong> Valida√ß√£o e serializa√ß√£o de dados</li>
                            <li><strong>JWT Extended:</strong> Autentica√ß√£o com tokens (24h de validade)</li>
                            <li><strong>Blueprints:</strong> Organiza√ß√£o modular de rotas
                                <ul>
                                    <li><code>/api/v1/auth</code> - Autentica√ß√£o</li>
                                    <li><code>/api/v1/sensors</code> - Gerenciamento de sensores</li>
                                    <li><code>/api/v1/readings</code> - Leituras de sensores</li>
                                    <li><code>/api/v1/statistics</code> - Estat√≠sticas agregadas</li>
                                    <li><code>/api/v1/pool</code> - Monitoramento da piscina</li>
                                </ul>
                            </li>
                            <li><strong>Services Layer:</strong> L√≥gica de neg√≥cio isolada
                                <ul>
                                    <li>SensorService - Gerenciamento de sensores</li>
                                    <li>ReadingService - Processamento de leituras</li>
                                    <li>PoolService - Monitoramento da piscina</li>
                                    <li>StatisticsService - C√°lculos e agrega√ß√µes</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="architecture-layer">
                        <h3>5. Camada de Apresenta√ß√£o (Web)</h3>
                        <ul>
                            <li><strong>NGINX:</strong> Reverse proxy e servidor de arquivos est√°ticos (porta 80)</li>
                            <li><strong>Prefix Routing:</strong> <code>/smartceu</code> para todo o sistema</li>
                            <li><strong>Dashboards HTML/JS:</strong>
                                <ul>
                                    <li>Smart CEU - P√°gina principal com navega√ß√£o</li>
                                    <li>Monitoramento da Piscina - Dashboard interativo</li>
                                    <li>API Test Page - Interface de testes da API</li>
                                    <li>Documenta√ß√£o - Arquitetura e casos de uso</li>
                                </ul>
                            </li>
                            <li><strong>Chart.js:</strong> Gr√°ficos interativos de temperatura</li>
                            <li><strong>Auto-refresh:</strong> Atualiza√ß√£o autom√°tica a cada 30 segundos</li>
                            <li><strong>Cache Control:</strong> Headers para evitar cache de dados din√¢micos</li>
                        </ul>
                    </div>

                    <div class="architecture-layer">
                        <h3>6. Camada de Dados (Persist√™ncia)</h3>
                        <ul>
                            <li><strong>MySQL 8.4:</strong> Banco de dados relacional (porta 3306)</li>
                            <li><strong>Database:</strong> smartceu_db</li>
                            <li><strong>Tabelas Principais:</strong>
                                <ul>
                                    <li><code>sensors</code> - Cadastro de sensores (6 ativos)</li>
                                    <li><code>readings</code> - Leituras de sensores de acesso (~22.000 registros)</li>
                                    <li><code>pool_readings</code> - Leituras da piscina (~7.740 registros)</li>
                                    <li><code>users</code> - Usu√°rios do sistema (1 admin)</li>
                                    <li><code>statistics</code> - Estat√≠sticas agregadas</li>
                                </ul>
                            </li>
                            <li><strong>√çndices:</strong> sensor_id, sensor_type, reading_date, timestamp</li>
                            <li><strong>Timezone:</strong> Campos DATE/TIME armazenados em America/Sao_Paulo</li>
                            <li><strong>Precis√£o:</strong> Temperaturas com DECIMAL(5,2)</li>
                        </ul>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-exchange-alt"></i> Fluxo de Dados Completo</h2>
                    <div class="flow-diagram">
                        <pre class="diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    CAMADA DE SENSORES                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Acesso: LoRa(2) + Zigbee(2) + Sigfox(1) + RFID(1)          ‚îÇ
‚îÇ  Piscina: Temp.√Ågua + Temp.Ambiente + Qualidade             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ Dados f√≠sicos coletados
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   GATEWAY IoT (Python)                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚Ä¢ Message Formatter (JSON padronizado)                      ‚îÇ
‚îÇ  ‚Ä¢ Timezone Handler (America/Sao_Paulo)                      ‚îÇ
‚îÇ  ‚Ä¢ MQTT Publisher (Paho Client)                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ Publica via MQTT
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              MQTT BROKER (Mosquitto:1884)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Topics:                                                      ‚îÇ
‚îÇ    ‚Ä¢ sensores/{protocol}/dados                               ‚îÇ
‚îÇ    ‚Ä¢ piscina/temperatura/agua                                ‚îÇ
‚îÇ    ‚Ä¢ piscina/temperatura/ambiente                            ‚îÇ
‚îÇ    ‚Ä¢ piscina/qualidade                                       ‚îÇ
‚îÇ  QoS: 1 (at least once)                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ Subscriber consome
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  BACKEND API (Flask:5000)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Blueprints:                                                  ‚îÇ
‚îÇ    /api/v1/auth         ‚Üí JWT Authentication                 ‚îÇ
‚îÇ    /api/v1/sensors      ‚Üí Sensor Management                  ‚îÇ
‚îÇ    /api/v1/readings     ‚Üí Access Readings                    ‚îÇ
‚îÇ    /api/v1/pool         ‚Üí Pool Monitoring                    ‚îÇ
‚îÇ    /api/v1/statistics   ‚Üí Analytics                          ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  Services:                                                    ‚îÇ
‚îÇ    ‚Ä¢ SensorService      ‚Üí CRUD + Valida√ß√£o                   ‚îÇ
‚îÇ    ‚Ä¢ ReadingService     ‚Üí Persist√™ncia                       ‚îÇ
‚îÇ    ‚Ä¢ PoolService        ‚Üí M√©dia di√°ria + Alertas             ‚îÇ
‚îÇ    ‚Ä¢ StatisticsService  ‚Üí Agrega√ß√µes                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ SQL via SQLAlchemy ORM
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  MYSQL DATABASE (smartceu_db)                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Tabelas:                                                     ‚îÇ
‚îÇ    ‚Ä¢ sensors (6)        ‚Ä¢ pool_readings (7,740)              ‚îÇ
‚îÇ    ‚Ä¢ readings (22,000)  ‚Ä¢ users (1)                          ‚îÇ
‚îÇ    ‚Ä¢ statistics         ‚Ä¢ alerts                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ Dados consultados via API
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              NGINX REVERSE PROXY (:80/smartceu)               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚Ä¢ Proxy para Flask API (porta 5000)                         ‚îÇ
‚îÇ  ‚Ä¢ Serve arquivos est√°ticos (HTML/CSS/JS)                    ‚îÇ
‚îÇ  ‚Ä¢ Cache Control headers                                     ‚îÇ
‚îÇ  ‚Ä¢ CORS habilitado                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ HTTP/HTTPS
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   WEB DASHBOARDS                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Smart CEU             ‚Üí P√°gina principal                     ‚îÇ
‚îÇ  Pool Dashboard        ‚Üí Gr√°ficos Chart.js (m√©dia di√°ria)    ‚îÇ
‚îÇ  Test Page             ‚Üí Interface de testes da API          ‚îÇ
‚îÇ  Documentation         ‚Üí Arquitetura + Casos de uso          ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  Features:                                                    ‚îÇ
‚îÇ    ‚Ä¢ Auto-refresh (30s)  ‚Ä¢ Alertas em tempo real            ‚îÇ
‚îÇ    ‚Ä¢ Gr√°ficos interativos ‚Ä¢ Formata√ß√£o BR (DD/MM/YYYY)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        </pre>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-check-circle"></i> Caracter√≠sticas da Solu√ß√£o</h2>
                    <ul class="features-list">
                        <li><i class="fas fa-check"></i> <strong>Multi-protocolo IoT:</strong> Suporte a LoRa, Zigbee, Sigfox e RFID</li>
                        <li><i class="fas fa-check"></i> <strong>Monitoramento em Tempo Real:</strong> Dashboard da piscina com atualiza√ß√£o autom√°tica</li>
                        <li><i class="fas fa-check"></i> <strong>M√©dia Di√°ria Inteligente:</strong> Agrega√ß√£o de leituras para an√°lise de tend√™ncias</li>
                        <li><i class="fas fa-check"></i> <strong>Sistema de Alertas:</strong> Notifica√ß√£o quando qualidade da √°gua est√° inadequada</li>
                        <li><i class="fas fa-check"></i> <strong>API REST Completa:</strong> 35+ endpoints organizados em 5 categorias</li>
                        <li><i class="fas fa-check"></i> <strong>Autentica√ß√£o JWT:</strong> Tokens seguros com validade de 24h</li>
                        <li><i class="fas fa-check"></i> <strong>Timezone Correto:</strong> America/Sao_Paulo (UTC-3) em todo o sistema</li>
                        <li><i class="fas fa-check"></i> <strong>Formata√ß√£o Precisa:</strong> Temperaturas com 2 casas decimais</li>
                        <li><i class="fas fa-check"></i> <strong>Arquitetura Limpa:</strong> Services + Schemas + Utils (Clean Architecture)</li>
                        <li><i class="fas fa-check"></i> <strong>Alta Performance:</strong> ~30.000 leituras processadas e armazenadas</li>
                        <li><i class="fas fa-check"></i> <strong>Gr√°ficos Interativos:</strong> Chart.js com hist√≥rico de 10 dias</li>
                        <li><i class="fas fa-check"></i> <strong>Valida√ß√£o Rigorosa:</strong> Marshmallow schemas em todas as entradas</li>
                        <li><i class="fas fa-check"></i> <strong>Documenta√ß√£o Completa:</strong> Casos de uso, API specs e decis√µes arquiteturais</li>
                        <li><i class="fas fa-check"></i> <strong>Deploy Automatizado:</strong> Scripts de instala√ß√£o e configura√ß√£o</li>
                        <li><i class="fas fa-check"></i> <strong>Monitoramento de Sa√∫de:</strong> Endpoint /health e estat√≠sticas do sistema</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-server"></i> Infraestrutura de Produ√ß√£o</h2>
                    <div class="info-box">
                        <h4>Servidor: 82.25.75.88 (Ubuntu 24.04 LTS)</h4>
                        <ul>
                            <li><strong>CPU:</strong> 2 vCPUs</li>
                            <li><strong>RAM:</strong> 7.8 GB</li>
                            <li><strong>Storage:</strong> 100 GB SSD</li>
                            <li><strong>Timezone:</strong> America/Sao_Paulo (UTC-3)</li>
                        </ul>
                        
                        <h4>Servi√ßos Ativos:</h4>
                        <ul>
                            <li><strong>NGINX:</strong> Porta 80 (HTTP) - Reverse proxy</li>
                            <li><strong>Flask API:</strong> Porta 5000 (interno) - smartceu-api.service</li>
                            <li><strong>MySQL:</strong> Porta 3306 (interno) - smartceu_db</li>
                            <li><strong>Mosquitto:</strong> Porta 1884 (interno) - MQTT broker</li>
                        </ul>
                        
                        <h4>URLs de Acesso:</h4>
                        <ul>
                            <li><code>http://82.25.75.88/smartceu</code> - P√°gina principal</li>
                            <li><code>http://82.25.75.88/smartceu/pool</code> - Dashboard da piscina</li>
                            <li><code>http://82.25.75.88/smartceu/test_page.html</code> - Testes da API</li>
                            <li><code>http://82.25.75.88/smartceu/doc_arq.html</code> - Documenta√ß√£o</li>
                        </ul>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-award"></i> Decis√µes Arquiteturais Importantes</h2>
                    
                    <div class="info-box" style="margin-bottom: 1rem;">
                        <h4>1. Separa√ß√£o de Tabelas de Leituras</h4>
                        <p><strong>Decis√£o:</strong> Criar tabela separada <code>pool_readings</code> ao inv√©s de usar <code>readings</code></p>
                        <p><strong>Justificativa:</strong></p>
                        <ul>
                            <li>Campos espec√≠ficos (temperature, water_quality) n√£o aplic√°veis a sensores de acesso</li>
                            <li>Queries otimizadas para cada tipo de dado</li>
                            <li>Escalabilidade independente</li>
                        </ul>
                    </div>

                    <div class="info-box" style="margin-bottom: 1rem;">
                        <h4>2. Campos DATE e TIME Separados</h4>
                        <p><strong>Decis√£o:</strong> Usar <code>reading_date (DATE)</code> + <code>reading_time (TIME)</code></p>
                        <p><strong>Justificativa:</strong></p>
                        <ul>
                            <li>Facilita agrega√ß√£o por dia (m√©dia di√°ria)</li>
                            <li>Evita complexidades de timezone em DATETIME do MySQL</li>
                            <li>Queries mais simples para estat√≠sticas</li>
                        </ul>
                    </div>

                    <div class="info-box" style="margin-bottom: 1rem;">
                        <h4>3. M√©dia Di√°ria vs. Leituras Individuais</h4>
                        <p><strong>Decis√£o:</strong> Criar endpoint dedicado <code>/temperature/daily-average</code></p>
                        <p><strong>Justificativa:</strong></p>
                        <ul>
                            <li>Gr√°ficos hora-a-hora eram polu√≠dos e dif√≠ceis de interpretar</li>
                            <li>M√©dias di√°rias revelam tend√™ncias mais claramente</li>
                            <li>Reduz volume de dados transferidos (10 pontos vs. 2000+)</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <h4>4. Timezone America/Sao_Paulo</h4>
                        <p><strong>Decis√£o:</strong> Usar <code>zoneinfo.ZoneInfo('America/Sao_Paulo')</code> em todo o sistema</p>
                        <p><strong>Justificativa:</strong></p>
                        <ul>
                            <li>Timestamps locais corretos sem convers√£o no frontend</li>
                            <li>Evita diferen√ßas de 3 horas entre servidor e dados</li>
                            <li>Consist√™ncia em scripts de popula√ß√£o e API</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Solution Model Section -->
            <section id="solution-model" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Modelo de Solu√ß√£o</span>
                </div>
                
                <h1>Modelo de Solu√ß√£o</h1>
                <p class="section-intro">Estrutura modular e componentes do sistema</p>

                <div class="content-card">
                    <h2><i class="fas fa-folder-tree"></i> Estrutura de M√≥dulos</h2>
                    
                    <div class="module-card">
                        <h3>üì¶ Backend</h3>
                        <p><strong>Responsabilidade:</strong> L√≥gica de neg√≥cio e gerenciamento do gateway</p>
                        <ul>
                            <li><code>gateway.py</code> - Orquestrador principal do sistema</li>
                            <li><code>mqtt_client.py</code> - Cliente MQTT para comunica√ß√£o</li>
                            <li><code>mqtt_subscriber.py</code> - Subscri√ß√£o e processamento de mensagens</li>
                            <li><code>message_formatter.py</code> - Formata√ß√£o de dados JSON</li>
                            <li><code>config_loader.py</code> - Carregamento de configura√ß√µes</li>
                        </ul>
                    </div>

                    <div class="module-card">
                        <h3>üì° Sensores</h3>
                        <p><strong>Responsabilidade:</strong> Simula√ß√£o e interface com sensores f√≠sicos</p>
                        <ul>
                            <li><code>base_sensor.py</code> - Classe abstrata base para todos os sensores</li>
                            <li><code>lora_sensor.py</code> - Implementa√ß√£o LoRa</li>
                            <li><code>zigbee_sensor.py</code> - Implementa√ß√£o Zigbee</li>
                            <li><code>sigfox_sensor.py</code> - Implementa√ß√£o Sigfox</li>
                            <li><code>rfid_sensor.py</code> - Implementa√ß√£o RFID</li>
                        </ul>
                    </div>

                    <div class="module-card">
                        <h3>‚öôÔ∏è Configura√ß√£o</h3>
                        <p><strong>Responsabilidade:</strong> Par√¢metros e configura√ß√µes do sistema</p>
                        <ul>
                            <li><code>mqtt_config.ini</code> - Configura√ß√µes do broker MQTT</li>
                            <li><code>config.ini</code> - Configura√ß√µes gerais do sistema</li>
                        </ul>
                    </div>

                    <div class="module-card">
                        <h3>üß™ Testes</h3>
                        <p><strong>Responsabilidade:</strong> Valida√ß√£o e testes do sistema</p>
                        <ul>
                            <li><code>test_mqtt_integration.py</code> - Testes de integra√ß√£o MQTT</li>
                            <li><code>test_simuladores.py</code> - Testes dos simuladores de sensores</li>
                            <li><code>exemplo_uso.py</code> - Exemplos de utiliza√ß√£o</li>
                        </ul>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-puzzle-piece"></i> Padr√µes de Design</h2>
                    <ul>
                        <li><strong>Factory Pattern:</strong> Cria√ß√£o de sensores espec√≠ficos</li>
                        <li><strong>Observer Pattern:</strong> MQTT pub/sub para eventos</li>
                        <li><strong>Singleton Pattern:</strong> Inst√¢ncia √∫nica do gateway</li>
                        <li><strong>Strategy Pattern:</strong> Diferentes estrat√©gias de formata√ß√£o</li>
                    </ul>
                </div>
            </section>

            <!-- Topology Section -->
            <section id="topology" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Modelo de Topologia</span>
                </div>
                
                <h1>Modelo de Topologia</h1>
                <p class="section-intro">Infraestrutura e distribui√ß√£o de componentes</p>

                <div class="content-card">
                    <h2><i class="fas fa-network-wired"></i> Topologia de Rede</h2>
                    <div class="topology-diagram">
                        <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    MQTT Broker                          ‚îÇ
‚îÇ              (Eclipse Mosquitto)                        ‚îÇ
‚îÇ                  localhost:1883                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Publishers    ‚îÇ          ‚îÇ  Subscribers   ‚îÇ
    ‚îÇ   (Gateway)     ‚îÇ          ‚îÇ  (Listeners)   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ         Sensor Layer                ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
    ‚îÇ  ‚îÇ LoRa ‚îÇZigbee‚îÇSigfox‚îÇ RFID ‚îÇ    ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        </pre>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-server"></i> Componentes de Infraestrutura</h2>
                    
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Componente</th>
                                <th>Tecnologia</th>
                                <th>Porta/Protocolo</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>MQTT Broker</td>
                                <td>Eclipse Mosquitto 2.x</td>
                                <td>1883 (TCP)</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                            <tr>
                                <td>Gateway Python</td>
                                <td>Python 3.x</td>
                                <td>-</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                            <tr>
                                <td>Simuladores</td>
                                <td>Python Threads</td>
                                <td>-</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                            <tr>
                                <td>API REST</td>
                                <td>Flask 3.0 + SQLAlchemy</td>
                                <td>5000 (HTTP)</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                            <tr>
                                <td>Banco de Dados</td>
                                <td>MySQL 8.4</td>
                                <td>3306 (TCP)</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                            <tr>
                                <td>Interface Web</td>
                                <td>HTML/JS/CSS (Test Page)</td>
                                <td>5000 (HTTP)</td>
                                <td><span class="status-badge active">Ativo</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Integrations Section -->
            <section id="integrations" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Integra√ß√µes</span>
                </div>
                
                <h1>Integra√ß√µes</h1>
                <p class="section-intro">Protocolos suportados e suas caracter√≠sticas</p>

                <div class="integration-grid">
                    <div class="integration-card lora">
                        <div class="integration-header">
                            <i class="fas fa-broadcast-tower"></i>
                            <h3>LoRa (Long Range)</h3>
                        </div>
                        <div class="integration-body">
                            <p><strong>Caracter√≠sticas:</strong></p>
                            <ul>
                                <li>Alcance: at√© 15 km (rural)</li>
                                <li>Frequ√™ncia: 868 MHz (EU) / 915 MHz (US)</li>
                                <li>Taxa: 0.3 - 50 kbps</li>
                                <li>Consumo: Muito baixo</li>
                            </ul>
                            <p><strong>Uso:</strong> Sensores remotos, agricultura, smart cities</p>
                            <p><strong>Topic MQTT:</strong> <code>sensores/lora/dados</code></p>
                        </div>
                    </div>

                    <div class="integration-card zigbee">
                        <div class="integration-header">
                            <i class="fas fa-home"></i>
                            <h3>Zigbee</h3>
                        </div>
                        <div class="integration-body">
                            <p><strong>Caracter√≠sticas:</strong></p>
                            <ul>
                                <li>Alcance: 10-100 metros</li>
                                <li>Frequ√™ncia: 2.4 GHz</li>
                                <li>Taxa: 250 kbps</li>
                                <li>Topologia: Mesh</li>
                            </ul>
                            <p><strong>Uso:</strong> Automa√ß√£o residencial, ilumina√ß√£o inteligente</p>
                            <p><strong>Topic MQTT:</strong> <code>sensores/zigbee/dados</code></p>
                        </div>
                    </div>

                    <div class="integration-card sigfox">
                        <div class="integration-header">
                            <i class="fas fa-globe"></i>
                            <h3>Sigfox</h3>
                        </div>
                        <div class="integration-body">
                            <p><strong>Caracter√≠sticas:</strong></p>
                            <ul>
                                <li>Alcance: at√© 50 km</li>
                                <li>Frequ√™ncia: 868 MHz</li>
                                <li>Taxa: 100 bps</li>
                                <li>Mensagens: 140 msg/dia</li>
                            </ul>
                            <p><strong>Uso:</strong> Rastreamento, medi√ß√£o, alarmes</p>
                            <p><strong>Topic MQTT:</strong> <code>sensores/sigfox/dados</code></p>
                        </div>
                    </div>

                    <div class="integration-card rfid">
                        <div class="integration-header">
                            <i class="fas fa-id-card"></i>
                            <h3>RFID</h3>
                        </div>
                        <div class="integration-body">
                            <p><strong>Caracter√≠sticas:</strong></p>
                            <ul>
                                <li>Alcance: 0.1 - 10 metros</li>
                                <li>Frequ√™ncia: 125 kHz - 2.4 GHz</li>
                                <li>Taxa: Instant√¢nea</li>
                                <li>Sem bateria (passivo)</li>
                            </ul>
                            <p><strong>Uso:</strong> Controle de acesso, invent√°rio, log√≠stica</p>
                            <p><strong>Topic MQTT:</strong> <code>sensores/rfid/dados</code></p>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-code"></i> Formato de Mensagem Padr√£o</h2>
                    <pre class="code-block"><code>{
  "tipo_sensor": "lora|zigbee|sigfox|rfid",
  "sensor_id": "unique_sensor_identifier",
  "timestamp": "2025-10-15T14:30:00Z",
  "dados": {
    "temperatura": 23.5,
    "umidade": 65.2,
    "bateria": 87
  },
  "metadata": {
    "localizacao": "Sala A",
    "versao": "1.0.0"
  }
}</code></pre>
                </div>
            </section>

            <!-- API Specs Section -->
            <section id="api-specs" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Especifica√ß√µes API</span>
                </div>
                
                <h1>Especifica√ß√µes API REST</h1>
                <p class="section-intro">29 Endpoints ativos - API completa com autentica√ß√£o JWT</p>

                <div class="content-card">
                    <h2><i class="fas fa-check-circle"></i> Status</h2>
                    <div class="alert alert-success" style="background-color: #d4edda; border-color: #c3e6cb; color: #155724; padding: 1rem; border-radius: 0.25rem;">
                        <i class="fas fa-check-circle"></i>
                        <p><strong>API REST totalmente implementada e funcional!</strong> Fase 3 conclu√≠da com sucesso.</p>
                        <ul style="margin-top: 0.5rem;">
                            <li>‚úÖ 29 endpoints ativos</li>
                            <li>‚úÖ Autentica√ß√£o JWT</li>
                            <li>‚úÖ Valida√ß√£o Marshmallow</li>
                            <li>‚úÖ MySQL + SQLAlchemy</li>
                            <li>‚úÖ Arquitetura refatorada</li>
                        </ul>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-route"></i> Endpoints de Autentica√ß√£o</h2>
                    
                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/auth/login</div>
                        <p>Autenticar usu√°rio e obter token JWT</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/auth/register</div>
                        <p>Registrar novo usu√°rio no sistema</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/auth/me</div>
                        <p>Obter informa√ß√µes do usu√°rio autenticado</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/auth/change-password</div>
                        <p>Alterar senha do usu√°rio</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/auth/users</div>
                        <p>Listar todos os usu√°rios (admin only)</p>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-broadcast-tower"></i> Endpoints de Sensores</h2>
                    
                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/sensors</div>
                        <p>Listar todos os sensores (com filtros)</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/sensors/{id}</div>
                        <p>Obter detalhes de um sensor espec√≠fico</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/sensors</div>
                        <p>Criar novo sensor (requer autentica√ß√£o)</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method put">PUT</div>
                        <div class="endpoint-path">/api/v1/sensors/{id}</div>
                        <p>Atualizar sensor existente</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method delete">DELETE</div>
                        <div class="endpoint-path">/api/v1/sensors/{id}</div>
                        <p>Deletar sensor (admin only)</p>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-chart-line"></i> Endpoints de Leituras</h2>
                    
                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/readings</div>
                        <p>Listar leituras com filtros (sensor, data, limit)</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/readings</div>
                        <p>Criar nova leitura de sensor</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/api/v1/readings/bulk</div>
                        <p>Criar m√∫ltiplas leituras em lote</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/readings/{id}</div>
                        <p>Obter detalhes de uma leitura espec√≠fica</p>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-chart-bar"></i> Endpoints de Estat√≠sticas</h2>
                    
                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/statistics/overview</div>
                        <p>Vis√£o geral do sistema (6 sensores, 6.000+ leituras)</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/statistics/activity</div>
                        <p>Estat√≠sticas de atividade por per√≠odo</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/statistics/sensors</div>
                        <p>Estat√≠sticas individuais por sensor</p>
                    </div>

                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/api/v1/statistics/capacity</div>
                        <p>Estat√≠sticas de capacidade e ocupa√ß√£o</p>
                    </div>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-heartbeat"></i> Endpoint de Sa√∫de</h2>
                    
                    <div class="endpoint">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/health</div>
                        <p>Verificar status de sa√∫de do sistema</p>
                    </div>
                </div>
            </section>

            <!-- Data Model Section -->
            <section id="data-model" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Modelo de Dados</span>
                </div>
                
                <h1>Modelo de Dados MySQL</h1>
                <p class="section-intro">5 Tabelas relacionais com 6.000+ registros de leituras</p>

                <div class="content-card">
                    <h2><i class="fas fa-database"></i> Banco de Dados: ceu_tres_pontes_db</h2>
                    <p><strong>MySQL 8.4.6</strong> - Banco relacional com suporte a JSON</p>
                    
                    <table class="info-table">
                        <thead>
                            <tr>
                                <th>Tabela</th>
                                <th>Registros</th>
                                <th>Descri√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>sensors</td>
                                <td>6</td>
                                <td>Sensores IoT cadastrados</td>
                            </tr>
                            <tr>
                                <td>readings</td>
                                <td>6.026</td>
                                <td>Leituras dos sensores</td>
                            </tr>
                            <tr>
                                <td>users</td>
                                <td>1</td>
                                <td>Usu√°rios do sistema</td>
                            </tr>
                            <tr>
                                <td>alerts</td>
                                <td>0</td>
                                <td>Alertas do sistema</td>
                            </tr>
                            <tr>
                                <td>statistics</td>
                                <td>0</td>
                                <td>Estat√≠sticas agregadas</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-table"></i> Tabela: sensors</h2>
                    <pre class="code-block"><code>CREATE TABLE sensors (
  id INT PRIMARY KEY AUTO_INCREMENT,
  serial_number VARCHAR(50) UNIQUE NOT NULL,
  protocol ENUM('LoRa', 'ZigBee', 'Sigfox', 'RFID') NOT NULL,
  location VARCHAR(200) NOT NULL,
  description TEXT,
  status ENUM('active', 'inactive', 'maintenance', 'error') DEFAULT 'active',
  protocol_config JSON,
  firmware_version VARCHAR(20),
  battery_level INT,
  signal_strength INT,
  total_readings INT DEFAULT 0,
  last_reading_at DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Exemplo de registro:
{
  "id": 1,
  "serial_number": "LORA-ENTRADA-01",
  "protocol": "LoRa",
  "location": "Entrada Principal",
  "status": "active",
  "battery_level": 87,
  "signal_strength": -75,
  "total_readings": 826
}</code></pre>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-table"></i> Tabela: readings</h2>
                    <pre class="code-block"><code>CREATE TABLE readings (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  sensor_id INT NOT NULL,
  activity SMALLINT NOT NULL,  -- 0 = nenhuma, 1 = detec√ß√£o
  timestamp DATETIME NOT NULL,
  sensor_metadata JSON,        -- battery_level, signal_strength, etc
  message_id VARCHAR(100),
  gateway_id VARCHAR(50),
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (sensor_id) REFERENCES sensors(id) ON DELETE CASCADE,
  INDEX idx_sensor_timestamp (sensor_id, timestamp),
  INDEX idx_timestamp_activity (timestamp, activity)
);

-- Exemplo de registro:
{
  "id": 1,
  "sensor_id": 1,
  "activity": 1,
  "timestamp": "2025-10-15T14:30:00",
  "sensor_metadata": {
    "battery_level": 85,
    "signal_strength": -72,
    "temperature": 23.5
  }
}</code></pre>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-table"></i> Tabela: users</h2>
                    <pre class="code-block"><code>CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  full_name VARCHAR(100),
  phone VARCHAR(20),
  role ENUM('admin', 'operator', 'viewer') DEFAULT 'operator',
  is_active BOOLEAN DEFAULT TRUE,
  is_verified BOOLEAN DEFAULT FALSE,
  last_login DATETIME,
  login_count INT DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Usu√°rio padr√£o:
{
  "username": "admin",
  "email": "admin@ceutrespontes.com",
  "role": "admin",
  "login_count": 14
}</code></pre>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-code-branch"></i> Relacionamentos</h2>
                    <ul>
                        <li><strong>sensors ‚Üí readings:</strong> Um sensor tem muitas leituras (1:N)</li>
                        <li><strong>sensors ‚Üí alerts:</strong> Um sensor pode ter muitos alertas (1:N)</li>
                        <li><strong>Cascade Delete:</strong> Ao deletar sensor, deleta leituras e alertas</li>
                        <li><strong>JSON Fields:</strong> protocol_config e sensor_metadata para dados flex√≠veis</li>
                    </ul>
                </div>
            </section>

            <!-- Security Section -->
            <section id="security" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Seguran√ßa</span>
                </div>
                
                <h1>Seguran√ßa</h1>
                <p class="section-intro">Sistema completo com autentica√ß√£o JWT e valida√ß√£o em m√∫ltiplas camadas</p>

                <div class="content-card">
                    <h2><i class="fas fa-lock"></i> Autentica√ß√£o e Autoriza√ß√£o</h2>
                    <ul class="security-list">
                        <li><i class="fas fa-check-circle"></i> <strong>JWT (JSON Web Tokens):</strong> Tokens com validade de 24 horas</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Bcrypt Password Hashing:</strong> Senhas criptografadas com salt</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Role-Based Access:</strong> 3 n√≠veis (admin, operator, viewer)</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Protected Endpoints:</strong> @token_required decorator em rotas sens√≠veis</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Session Management:</strong> Controle de login_count e last_login</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-shield-alt"></i> Valida√ß√£o de Dados</h2>
                    <ul class="security-list">
                        <li><i class="fas fa-check-circle"></i> <strong>Marshmallow Schemas:</strong> Valida√ß√£o estrita de entrada (4 schemas)</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Input Sanitization:</strong> @validate_request decorator personalizado</li>
                        <li><i class="fas fa-check-circle"></i> <strong>SQL Injection Prevention:</strong> SQLAlchemy ORM com prepared statements</li>
                        <li><i class="fas fa-check-circle"></i> <strong>JSON Validation:</strong> Formato de mensagens MQTT e API</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Email Validation:</strong> Formato RFC-compliant</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-network-wired"></i> Seguran√ßa de Infraestrutura</h2>
                    <ul class="security-list">
                        <li><i class="fas fa-check-circle"></i> <strong>MQTT Local Network:</strong> Comunica√ß√£o broker em rede local</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Database Security:</strong> Conex√µes autenticadas, usu√°rio dedicado</li>
                        <li><i class="fas fa-check-circle"></i> <strong>Error Handling:</strong> Mensagens gen√©ricas, logs detalhados</li>
                        <li><i class="fas fa-check-circle"></i> <strong>CORS Configuration:</strong> Controle de origens permitidas</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-clock"></i> Melhorias Futuras</h2>
                    <ul class="security-list">
                        <li><i class="fas fa-hourglass-half"></i> TLS/SSL para MQTT (criptografia de transporte)</li>
                        <li><i class="fas fa-hourglass-half"></i> Rate Limiting (preven√ß√£o de abuso de API)</li>
                        <li><i class="fas fa-hourglass-half"></i> Audit Logs (rastreamento completo de a√ß√µes)</li>
                        <li><i class="fas fa-hourglass-half"></i> Two-Factor Authentication (2FA)</li>
                        <li><i class="fas fa-hourglass-half"></i> API Key Management (autentica√ß√£o adicional)</li>
                    </ul>
                </div>
            </section>

            <!-- Operations Section -->
            <section id="operations" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Opera√ß√µes</span>
                </div>
                
                <h1>Opera√ß√µes</h1>
                <p class="section-intro">Sistema completo rodando - API Flask + MySQL + MQTT Gateway</p>

                <div class="content-card">
                    <h2><i class="fas fa-play-circle"></i> Inicializa√ß√£o do Sistema Completo</h2>
                    <ol>
                        <li><strong>Ativar ambiente virtual:</strong> 
                            <pre class="code-block"><code>venv\Scripts\activate</code></pre>
                        </li>
                        <li><strong>Iniciar broker Mosquitto:</strong> 
                            <pre class="code-block"><code>mosquitto -v</code></pre>
                        </li>
                        <li><strong>Iniciar Gateway MQTT:</strong> 
                            <pre class="code-block"><code>python backend/gateway/gateway.py</code></pre>
                        </li>
                        <li><strong>Iniciar API Flask:</strong> 
                            <pre class="code-block"><code>cd backend
python app.py</code></pre>
                            <p><small>API dispon√≠vel em: <code>http://localhost:5000</code></small></p>
                        </li>
                    </ol>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-database"></i> Gerenciamento do Banco de Dados</h2>
                    <ol>
                        <li><strong>Criar banco e usu√°rio MySQL:</strong>
                            <pre class="code-block"><code>CREATE DATABASE ceu_tres_pontes_db;
CREATE USER 'ceu_user'@'localhost' IDENTIFIED BY 'sua_senha';
GRANT ALL PRIVILEGES ON ceu_tres_pontes_db.* TO 'ceu_user'@'localhost';</code></pre>
                        </li>
                        <li><strong>Configurar credenciais:</strong> 
                            <p>Editar <code>backend/config.py</code> com suas credenciais MySQL</p>
                        </li>
                        <li><strong>Criar tabelas:</strong> 
                            <p>As tabelas s√£o criadas automaticamente no primeiro run com <code>db.create_all()</code></p>
                        </li>
                    </ol>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-vial"></i> Testes e Simula√ß√£o</h2>
                    <pre class="code-block"><code># Executar testes unit√°rios
python -m pytest tests/ -v

# Simular sensores enviando dados via MQTT
python tests/test_simuladores.py

# Testar integra√ß√£o MQTT completa
python tests/test_mqtt_integration.py</code></pre>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-tools"></i> Monitoramento em Produ√ß√£o</h2>
                    <ul>
                        <li><strong>Health Check:</strong> <code>GET /health</code> - Verifica status API e banco</li>
                        <li><strong>Logs Flask:</strong> Sa√≠da padr√£o do app.py (INFO, WARNING, ERROR)</li>
                        <li><strong>Logs Mosquitto:</strong> Console do broker com flag <code>-v</code></li>
                        <li><strong>Logs Gateway:</strong> Sa√≠da padr√£o do gateway.py</li>
                        <li><strong>Estat√≠sticas:</strong> <code>GET /api/v1/statistics/overview</code> - Vis√£o geral do sistema</li>
                        <li><strong>MySQL Monitoring:</strong> 
                            <pre class="code-block"><code>SELECT COUNT(*) FROM readings;  -- Total de leituras
SELECT * FROM sensors WHERE status='active';  -- Sensores ativos</code></pre>
                        </li>
                    </ul>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-user-shield"></i> Primeiro Login</h2>
                    <ol>
                        <li><strong>Registrar usu√°rio admin:</strong>
                            <pre class="code-block"><code>POST /api/v1/auth/register
{
  "username": "admin",
  "email": "admin@ceutrespontes.com",
  "password": "SenhaSegura123!",
  "full_name": "Administrador",
  "role": "admin"
}</code></pre>
                        </li>
                        <li><strong>Fazer login:</strong>
                            <pre class="code-block"><code>POST /api/v1/auth/login
{
  "username": "admin",
  "password": "SenhaSegura123!"
}

# Retorna:
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "token_type": "Bearer"
}</code></pre>
                        </li>
                        <li><strong>Usar token nas requisi√ß√µes:</strong>
                            <pre class="code-block"><code>Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...</code></pre>
                        </li>
                    </ol>
                </div>
            </section>

            <!-- Other sections placeholders -->
            <section id="checklist" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Checklist</span>
                </div>
                <h1>Checklist / Intake</h1>
                <p>Checklists de implementa√ß√£o e valida√ß√£o do projeto.</p>
            </section>

            <section id="endpoints" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Endpoints</span>
                </div>
                <h1>Endpoints</h1>
                <p>Documenta√ß√£o detalhada de todos os endpoints da API.</p>
            </section>

            <section id="versioning" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>Pol√≠tica de Versionado</span>
                </div>
                <h1>Pol√≠tica de Versionado</h1>
                <p>Estrat√©gia de versionamento do sistema (Semantic Versioning).</p>
            </section>

            <section id="adrs" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / <span>ADRs</span>
                </div>
                <h1>Architecture Decision Records</h1>
                <p>Registro de decis√µes arquiteturais importantes.</p>
            </section>

            <!-- Caso de Uso: Monitoramento da Piscina -->
            <section id="use-case-pool" class="content-section">
                <div class="breadcrumb">
                    <a href="#home">In√≠cio</a> / Casos de Uso / <span>Monitoramento da Piscina</span>
                </div>
                <h1><i class="fas fa-swimming-pool"></i> Monitoramento da Piscina</h1>
                
                <div class="info-box">
                    <h3>Vis√£o Geral</h3>
                    <p>Sistema completo de monitoramento da piscina do CEU Tr√™s Pontes, com coleta de dados de temperatura e qualidade da √°gua em tempo real, armazenamento em banco de dados, e visualiza√ß√£o atrav√©s de dashboard interativo.</p>
                </div>

                <h2>1. Objetivos</h2>
                <ul>
                    <li>Monitorar continuamente a temperatura da √°gua da piscina</li>
                    <li>Monitorar a temperatura ambiente ao redor da piscina</li>
                    <li>Avaliar e registrar a qualidade da √°gua (√ìtima, Boa, Regular, Impr√≥pria)</li>
                    <li>Gerar alertas quando a qualidade da √°gua n√£o estiver adequada</li>
                    <li>Fornecer hist√≥rico de m√©dias di√°rias de temperatura</li>
                    <li>Apresentar estat√≠sticas agregadas do per√≠odo</li>
                </ul>

                <h2>2. Atores</h2>
                <ul>
                    <li><strong>Administrador do Sistema:</strong> Gerencia usu√°rios e configura√ß√µes</li>
                    <li><strong>Operador do CEU:</strong> Monitora os dados da piscina e responde a alertas</li>
                    <li><strong>Sensores IoT:</strong> Coletam dados de temperatura e qualidade da √°gua</li>
                    <li><strong>Sistema de Alertas:</strong> Notifica sobre condi√ß√µes inadequadas da √°gua</li>
                </ul>

                <h2>3. Arquitetura do Sistema</h2>
                
                <h3>3.1 Componentes</h3>
                <div class="code-block">
<pre>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Sensores IoT  ‚îÇ (Temperatura da √Ågua, Temperatura Ambiente, Qualidade)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MQTT Broker    ‚îÇ (Mosquitto - Porta 1884)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Gateway IoT    ‚îÇ (Python - Processa mensagens MQTT)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Backend API   ‚îÇ (Flask + SQLAlchemy - Porta 5000)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí MySQL Database (smartceu_db)
         ‚îÇ
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  NGINX Reverse  ‚îÇ (Porta 80 - /smartceu)
‚îÇ     Proxy       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Dashboard     ‚îÇ (HTML/JS - Chart.js)
‚îÇ   Web Frontend  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</pre>
                </div>

                <h3>3.2 Fluxo de Dados</h3>
                <ol>
                    <li><strong>Coleta:</strong> Sensores coletam dados a cada intervalo programado</li>
                    <li><strong>Transmiss√£o:</strong> Dados enviados via MQTT para t√≥picos espec√≠ficos</li>
                    <li><strong>Processamento:</strong> Gateway recebe, formata e envia para API</li>
                    <li><strong>Armazenamento:</strong> API valida e persiste dados no MySQL</li>
                    <li><strong>Disponibiliza√ß√£o:</strong> API exp√µe endpoints REST autenticados (JWT)</li>
                    <li><strong>Visualiza√ß√£o:</strong> Dashboard consulta API e renderiza gr√°ficos</li>
                    <li><strong>Alertas:</strong> Sistema verifica qualidade e gera alertas quando necess√°rio</li>
                </ol>

                <h2>4. Modelo de Dados</h2>
                
                <h3>4.1 Tabela: pool_readings</h3>
                <div class="code-block">
<pre>CREATE TABLE pool_readings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    sensor_type VARCHAR(20) NOT NULL,           -- 'water_temp', 'ambient_temp', 'water_quality'
    reading_date DATE NOT NULL,                 -- Data da leitura
    reading_time TIME NOT NULL,                 -- Hora da leitura (timezone local)
    temperature DECIMAL(5,2),                   -- Temperatura em ¬∞C (2 decimais)
    water_quality VARCHAR(20),                  -- '√ìtima', 'Boa', 'Regular', 'Impr√≥pria'
    created_at DATETIME NOT NULL,               -- Timestamp de cria√ß√£o do registro
    updated_at DATETIME NOT NULL,               -- Timestamp de atualiza√ß√£o
    INDEX idx_sensor_type (sensor_type),
    INDEX idx_reading_date (reading_date)
);</pre>
                </div>

                <h3>4.2 Tipos de Sensores</h3>
                <ul>
                    <li><strong>water_temp:</strong> Temperatura da √°gua da piscina (20-35¬∞C)</li>
                    <li><strong>ambient_temp:</strong> Temperatura ambiente (15-40¬∞C)</li>
                    <li><strong>water_quality:</strong> Qualidade da √°gua (sem temperatura)</li>
                </ul>

                <h2>5. API Endpoints</h2>

                <h3>5.1 Autentica√ß√£o</h3>
                <div class="code-block">
<pre>POST /api/v1/auth/login
{
    "username": "admin",
    "password": "admin123"
}

Response:
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
    "user": {
        "id": 1,
        "username": "admin",
        "role": "admin"
    }
}</pre>
                </div>

                <h3>5.2 √öltimas Leituras</h3>
                <div class="code-block">
<pre>GET /api/v1/pool/readings/latest
Headers: Authorization: Bearer {token}

Response:
{
    "data": {
        "water_temp": {
            "id": 12345,
            "sensor_type": "water_temp",
            "reading_date": "2025-10-22",
            "reading_time": "16:02:53",
            "temperature": 25.46
        },
        "ambient_temp": { ... },
        "water_quality": {
            "water_quality": "√ìtima"
        }
    }
}</pre>
                </div>

                <h3>5.3 M√©dia Di√°ria de Temperatura</h3>
                <div class="code-block">
<pre>GET /api/v1/pool/temperature/daily-average?sensor_type=water_temp&days=10
Headers: Authorization: Bearer {token}

Response:
{
    "data": [
        {
            "date": "2025-10-13",
            "avg_temperature": 26.26,
            "reading_count": 183
        },
        {
            "date": "2025-10-14",
            "avg_temperature": 26.26,
            "reading_count": 240
        },
        ...
    ],
    "sensor_type": "water_temp",
    "period_days": 10
}</pre>
                </div>

                <h3>5.4 Estat√≠sticas</h3>
                <div class="code-block">
<pre>GET /api/v1/pool/statistics?days=7
Headers: Authorization: Bearer {token}

Response:
{
    "data": {
        "water_temp": {
            "avg": 26.25,
            "min": 24.50,
            "max": 28.00,
            "count": 1234
        },
        "ambient_temp": { ... },
        "water_quality": {
            "distribution": {
                "√ìtima": 850,
                "Boa": 100,
                "Regular": 40,
                "Impr√≥pria": 10
            }
        }
    }
}</pre>
                </div>

                <h3>5.5 Alertas de Qualidade</h3>
                <div class="code-block">
<pre>GET /api/v1/pool/alerts
Headers: Authorization: Bearer {token}

Response:
{
    "data": [
        {
            "id": 456,
            "sensor_type": "water_quality",
            "reading_date": "2025-10-22",
            "reading_time": "14:30:00",
            "water_quality": "Impr√≥pria",
            "alert_level": "high"
        }
    ]
}</pre>
                </div>

                <h2>6. Dashboard Web</h2>

                <h3>6.1 Funcionalidades</h3>
                <ul>
                    <li><strong>Cards de Status:</strong> Exibem √∫ltima leitura de cada sensor em tempo real</li>
                    <li><strong>Gr√°ficos de Hist√≥rico:</strong> M√©dia di√°ria dos √∫ltimos 10 dias (Chart.js)</li>
                    <li><strong>Estat√≠sticas do Per√≠odo:</strong> M√©dias, m√≠nimas e m√°ximas</li>
                    <li><strong>Lista de Alertas:</strong> Hist√≥rico de alertas de qualidade inadequada</li>
                    <li><strong>Atualiza√ß√£o Autom√°tica:</strong> Dados atualizados a cada 30 segundos</li>
                </ul>

                <h3>6.2 Componentes Visuais</h3>
                <ul>
                    <li><strong>Card Temperatura da √Ågua:</strong> Valor atual + timestamp formatado (DD/MM/YYYY HH:MM)</li>
                    <li><strong>Card Temperatura Ambiente:</strong> Valor atual + timestamp</li>
                    <li><strong>Card Qualidade da √Ågua:</strong> Status com c√≥digo de cores (verde/amarelo/laranja/vermelho)</li>
                    <li><strong>Gr√°fico Temperatura da √Ågua:</strong> Linha azul com m√©dias di√°rias</li>
                    <li><strong>Gr√°fico Temperatura Ambiente:</strong> Linha laranja com m√©dias di√°rias</li>
                    <li><strong>Tabela de Alertas:</strong> Lista filtrada das √∫ltimas 24h</li>
                </ul>

                <h3>6.3 Formata√ß√£o de Dados</h3>
                <ul>
                    <li>Temperaturas: 2 casas decimais (ex: 25.46¬∞C)</li>
                    <li>Datas: Formato brasileiro DD/MM/YYYY</li>
                    <li>Hor√°rios: HH:MM (24h)</li>
                    <li>Timezone: America/Sao_Paulo (UTC-3)</li>
                </ul>

                <h2>7. Decis√µes T√©cnicas</h2>

                <h3>7.1 Timezone</h3>
                <div class="info-box">
                    <p><strong>Problema:</strong> Inicialmente, as leituras eram geradas em UTC, causando diferen√ßa de 3 horas com o hor√°rio local do servidor.</p>
                    <p><strong>Solu√ß√£o:</strong> Implementa√ß√£o do uso de <code>zoneinfo.ZoneInfo('America/Sao_Paulo')</code> em todos os scripts de gera√ß√£o de dados.</p>
                    <p><strong>Resultado:</strong> Dados armazenados com timestamp local correto, sem necessidade de convers√£o no frontend.</p>
                </div>

                <h3>7.2 M√©dia Di√°ria vs. Leituras Hor√°rias</h3>
                <div class="info-box">
                    <p><strong>Problema:</strong> Gr√°ficos com leituras individuais (hora a hora) ficavam polu√≠dos e dif√≠ceis de interpretar.</p>
                    <p><strong>Solu√ß√£o:</strong> Cria√ß√£o de endpoint dedicado (<code>/temperature/daily-average</code>) que calcula m√©dia de todas as leituras de cada dia.</p>
                    <p><strong>Resultado:</strong> Gr√°ficos limpos e informativos mostrando tend√™ncias ao longo de 10 dias.</p>
                </div>

                <h3>7.3 Separa√ß√£o de Date e Time</h3>
                <div class="info-box">
                    <p><strong>Decis√£o:</strong> Usar campos separados <code>reading_date (DATE)</code> e <code>reading_time (TIME)</code> ao inv√©s de um √∫nico DATETIME.</p>
                    <p><strong>Justificativa:</strong> Facilita queries de agrega√ß√£o por dia e evita complexidades de timezone em campos DATETIME do MySQL.</p>
                    <p><strong>Trade-off:</strong> Necess√°rio combinar os dois campos para exibi√ß√£o, mas queries de m√©dia di√°ria ficam mais simples.</p>
                </div>

                <h2>8. Melhorias Implementadas</h2>

                <h3>8.1 Corre√ß√£o de Hor√°rios Futuros</h3>
                <p>Script de popula√ß√£o ajustado para n√£o gerar leituras com timestamp futuro no dia atual:</p>
                <ul>
                    <li>Dias passados: Leituras entre 6h e 22h (hor√°rio de funcionamento da piscina)</li>
                    <li>Dia atual: Leituras apenas at√© a hora atual do servidor</li>
                    <li>Quantidade proporcional: N√∫mero de leituras de hoje ajustado conforme horas decorridas</li>
                </ul>

                <h3>8.2 Formata√ß√£o de Temperatura</h3>
                <p>Padroniza√ß√£o de todas as temperaturas para exatamente 2 casas decimais:</p>
                <ul>
                    <li>Banco de dados: <code>DECIMAL(5,2)</code></li>
                    <li>API: Convers√£o para float com arredondamento</li>
                    <li>Frontend: <code>parseFloat(value).toFixed(2)</code></li>
                </ul>

                <h3>8.3 Cache Control</h3>
                <p>Configura√ß√£o do NGINX para evitar cache de p√°ginas HTML:</p>
                <div class="code-block">
<pre>add_header Cache-Control "no-store, no-cache, must-revalidate, max-age=0";
add_header Pragma "no-cache";</pre>
                </div>

                <h2>9. M√©tricas e Performance</h2>

                <h3>9.1 Volume de Dados (20 dias)</h3>
                <ul>
                    <li>Leituras de temperatura da √°gua: ~3.700 registros</li>
                    <li>Leituras de temperatura ambiente: ~3.100 registros</li>
                    <li>Leituras de qualidade da √°gua: ~940 registros</li>
                    <li><strong>Total:</strong> ~7.740 registros de piscina</li>
                </ul>

                <h3>9.2 Distribui√ß√£o de Qualidade</h3>
                <ul>
                    <li>√ìtima: ~85%</li>
                    <li>Boa: ~10%</li>
                    <li>Regular: ~4%</li>
                    <li>Impr√≥pria: ~1%</li>
                </ul>

                <h3>9.3 M√©dias de Temperatura (√öltimos 10 dias)</h3>
                <ul>
                    <li><strong>√Ågua:</strong> 26.06¬∞C - 26.47¬∞C</li>
                    <li><strong>Ambiente:</strong> 26.32¬∞C - 28.20¬∞C</li>
                </ul>

                <h2>10. Pr√≥ximos Passos</h2>
                <ul>
                    <li>Implementar notifica√ß√µes push para alertas cr√≠ticos</li>
                    <li>Adicionar exporta√ß√£o de relat√≥rios em PDF</li>
                    <li>Criar dashboard mobile responsivo</li>
                    <li>Integrar com sistema de gest√£o de manuten√ß√£o</li>
                    <li>Adicionar previs√£o de necessidade de manuten√ß√£o baseada em tend√™ncias</li>
                    <li>Implementar monitoramento de n√≠veis de cloro e pH</li>
                </ul>

                <div class="info-box" style="margin-top: 2rem;">
                    <h3>üîó Links Relacionados</h3>
                    <ul>
                        <li><a href="http://82.25.75.88/smartceu/pool" target="_blank">Dashboard de Monitoramento</a></li>
                        <li><a href="#api-specs">Especifica√ß√µes Completas da API</a></li>
                        <li><a href="#data-model">Modelo de Dados Completo</a></li>
                        <li><a href="#architecture">Arquitetura Geral do Sistema</a></li>
                    </ul>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 IoT Gateway Project ¬∑ Documenta√ß√£o Arquitet√¥nica v1.0.0</p>
            <p>√öltima atualiza√ß√£o: 20 de Outubro de 2025</p>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
</body>
</html>
